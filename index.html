<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KBC Quiz</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #001f4d;
      color: white;
      text-align: center;
      margin: 0;
      padding: 0;
    }
    .container { padding: 20px; }
    .question { font-size: 20px; margin: 20px 0; }
    .options { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
    .option {
      background: #004080;
      padding: 10px;
      border-radius: 8px;
      cursor: pointer;
      transition: 0.3s;
    }
    .option:hover { background: #0059b3; }
    .option.locked { background: orange; }
    .option.correct { background: green; }
    .option.wrong { background: red; }
    #timer { font-size: 22px; margin: 10px; color: yellow; }
    .lifeline { margin: 10px; padding: 8px 16px; background: #ff6600; border: none; border-radius: 6px; cursor: pointer; }
    .lock-btn { margin: 15px; padding: 8px 16px; background: #00ccff; border: none; border-radius: 6px; cursor: pointer; }
  </style>
</head>
<body>
  <!-- 🔼 Top Ad -->
  <div id="top-ad">
    <script type="text/javascript">
      atOptions = {
        'key' : '1103b20b1d708d29a34f48f4e512eaac',
        'format' : 'iframe',
        'height' : 90,
        'width' : 728,
        'params' : {}
      };
    </script>
    <script type="text/javascript" src="//www.highperformanceformat.com/1103b20b1d708d29a34f48e512eaac/invoke.js"></script>
  </div>

  <div class="container">
    <h1>🎯 KBC Quiz 🎯</h1>
    <div id="timer">20</div>
    <div class="question" id="question"></div>
    <div class="options" id="options"></div>
    <button class="lifeline" onclick="use5050()">50:50 लाइफलाइन</button>
    <button class="lock-btn" onclick="lockAnswer()">🔒 Lock</button>
  </div>

  <!-- 🔽 Bottom Ad -->
  <div id="bottom-ad">
    <script type="text/javascript">
      atOptions = {
        'key' : 'fa3ec2ba10a5e26285bd95e654548af5',
        'format' : 'iframe',
        'height' : 250,
        'width' : 300,
        'params' : {}
      };
    </script>
    <script type="text/javascript" src="//www.highperformanceformat.com/fa3ec2ba10a5e26285bd95e654548af5/invoke.js"></script>
  </div>

  <!-- 🔊 Sounds -->
  <audio id="timerSound" src="timer.mp3"></audio>
  <audio id="correctSound" src="correct.mp3"></audio>
  <audio id="wrongSound" src="wrong.mp3"></audio>
  <audio id="bgSound" src="background.mp3" loop autoplay></audio>

  <script>
    let questions = [
      {
        "id": 1,
        "question": "भारत की राजधानी कौन सी है?",
        "options": ["दिल्ली", "मुंबई", "कोलकाता", "चेन्नई"],
        "answer": "दिल्ली"
      },
      {
        "id": 2,
        "question": "भारत का पहला राष्ट्रपति कौन था?",
        "options": ["राजेन्द्र प्रसाद", "नेहरू", "गांधीजी", "राधाकृष्णन"],
        "answer": "राजेन्द्र प्रसाद"
      },
      {
        "id": 3,
        "question": "ताजमहल कहाँ स्थित है?",
        "options": ["दिल्ली", "आगरा", "जयपुर", "भोपाल"],
        "answer": "आगरा"
      },
      {
        "id": 4,
        "question": "कंप्यूटर का दिमाग किसे कहते हैं?",
        "options": ["CPU", "Mouse", "Monitor", "Keyboard"],
        "answer": "CPU"
      },
      {
        "id": 5,
        "question": "चंद्रयान-3 किसके द्वारा लॉन्च किया गया?",
        "options": ["NASA", "इसरो", "SpaceX", "DRDO"],
        "answer": "इसरो"
      }
    ];

    let currentQuestion = 0;
    let selectedOption = null;
    let timer;
    let timeLeft = 20;

    function startQuiz() {
      shuffleArray(questions);
      loadQuestion();
    }

    function loadQuestion() {
      if (currentQuestion >= questions.length) {
        alert("Quiz खत्म!");
        return;
      }
      document.getElementById("question").innerText = questions[currentQuestion].question;
      let opts = document.getElementById("options");
      opts.innerHTML = "";
      questions[currentQuestion].options.forEach(opt => {
        let div = document.createElement("div");
        div.classList.add("option");
        div.innerText = opt;
        div.onclick = () => selectOption(div, opt);
        opts.appendChild(div);
      });
      resetTimer();
    }

    function selectOption(div, opt) {
      let options = document.querySelectorAll(".option");
      options.forEach(o => o.classList.remove("locked"));
      div.classList.add("locked");
      selectedOption = opt;
    }

    function lockAnswer() {
      if (!selectedOption) return;
      let correct = questions[currentQuestion].answer;
      let options = document.querySelectorAll(".option");
      options.forEach(o => {
        if (o.innerText === correct) o.classList.add("correct");
        else if (o.innerText === selectedOption && selectedOption !== correct) o.classList.add("wrong");
      });
      if (selectedOption === correct) {
        document.getElementById("correctSound").play();
      } else {
        document.getElementById("wrongSound").play();
      }
      clearInterval(timer);
      setTimeout(() => {
        currentQuestion++;
        loadQuestion();
      }, 2000);
    }

    function resetTimer() {
      clearInterval(timer);
      timeLeft = 20;
      document.getElementById("timer").innerText = timeLeft;
      timer = setInterval(() => {
        timeLeft--;
        document.getElementById("timer").innerText = timeLeft;
        if (timeLeft === 0) {
          clearInterval(timer);
          lockAnswer();
        }
      }, 1000);
      document.getElementById("timerSound").play();
    }

    function use5050() {
      let correct = questions[currentQuestion].answer;
      let opts = Array.from(document.querySelectorAll(".option"));
      let wrongOpts = opts.filter(o => o.innerText !== correct);
      shuffleArray(wrongOpts);
      wrongOpts.slice(0,2).forEach(o => o.style.visibility = "hidden");
    }

    function shuffleArray(arr) {
      for (let i = arr.length - 1; i > 0; i--) {
        let j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
    }

    startQuiz();
  </script>
</body>
</html>
