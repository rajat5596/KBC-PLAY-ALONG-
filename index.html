<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KBC Quiz</title>
  <style>
    body { font-family: Arial, sans-serif; background-color: #001f4d; color: white; text-align: center; margin: 0; padding: 0; }
    .container { padding: 20px; }
    .question { font-size: 20px; margin: 20px 0; }
    .options { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
    .option { background: #004080; padding: 10px; border-radius: 8px; cursor: pointer; transition: 0.3s; }
    .option:hover { background: #0059b3; }
    .option.locked { background: orange; }
    .option.correct { background: green; }
    .option.wrong { background: red; }
    #timer { font-size: 22px; margin: 10px; color: yellow; }
    .lifeline, .lock-btn, .start-btn, .share-btn { margin: 10px; padding: 10px 18px; background: #ff6600; border: none; border-radius: 6px; cursor: pointer; color: white; }
    .lock-btn { background: #00ccff; }
    .share-btn { background: green; }
  </style>
</head>
<body>

  <!-- üîº Top Ad -->
  <div id="top-ad">
    <script type="text/javascript">
      atOptions = {
        'key' : '1103b20b1d708d29a34f48f4e512eaac',
        'format' : 'iframe',
        'height' : 90,
        'width' : 728,
        'params' : {}
      };
    </script>
    <script type="text/javascript" src="//www.highperformanceformat.com/1103b20b1d708d29a34f48f4e512eaac/invoke.js"></script>
  </div>

  <div class="container">
    <h1>üéØ KBC Quiz üéØ</h1>
    <button class="start-btn" onclick="startQuiz()">‚ñ∂ Start Quiz</button>
    <div id="timer"></div>
    <div class="question" id="question"></div>
    <div class="options" id="options"></div>
    <button class="lifeline" onclick="use5050()">50:50 ‡§≤‡§æ‡§á‡§´‡§≤‡§æ‡§á‡§®</button>
    <button class="lock-btn" onclick="lockAnswer()">üîí Lock</button>
    <button class="share-btn" onclick="shareScore()">üì§ Share Score</button>
  </div>

  <!-- üîΩ Bottom Ad -->
  <div id="bottom-ad">
    <script type="text/javascript">
      atOptions = {
        'key' : 'fa3ec2ba10a5e26285bd95e654548af5',
        'format' : 'iframe',
        'height' : 250,
        'width' : 300,
        'params' : {}
      };
    </script>
    <script type="text/javascript" src="//www.highperformanceformat.com/fa3ec2ba10a5e26285bd95e654548af5/invoke.js"></script>
  </div>

  <!-- üîä Sounds -->
  <audio id="timerSound" src="timer.mp3"></audio>
  <audio id="correctSound" src="correct.mp3"></audio>
  <audio id="wrongSound" src="wrong.mp3"></audio>
  <audio id="bgSound" src="background.mp3" loop></audio>

  <script>
    let questions = [
      { "id":1, "question":"‡§≠‡§æ‡§∞‡§§ ‡§ï‡•Ä ‡§∞‡§æ‡§ú‡§ß‡§æ‡§®‡•Ä ‡§ï‡•å‡§® ‡§∏‡•Ä ‡§π‡•à?", "options":["‡§¶‡§ø‡§≤‡•ç‡§≤‡•Ä","‡§Æ‡•Å‡§Ç‡§¨‡§à","‡§ï‡•ã‡§≤‡§ï‡§æ‡§§‡§æ","‡§ö‡•á‡§®‡•ç‡§®‡§à"], "answer":"‡§¶‡§ø‡§≤‡•ç‡§≤‡•Ä" },
      { "id":2, "question":"‡§≠‡§æ‡§∞‡§§ ‡§ï‡§æ ‡§™‡§π‡§≤‡§æ ‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡§™‡§§‡§ø ‡§ï‡•å‡§® ‡§•‡§æ?", "options":["‡§∞‡§æ‡§ú‡•á‡§®‡•ç‡§¶‡•ç‡§∞ ‡§™‡•ç‡§∞‡§∏‡§æ‡§¶","‡§®‡•á‡§π‡§∞‡•Ç","‡§ó‡§æ‡§Ç‡§ß‡•Ä‡§ú‡•Ä","‡§∞‡§æ‡§ß‡§æ‡§ï‡•É‡§∑‡•ç‡§£‡§®"], "answer":"‡§∞‡§æ‡§ú‡•á‡§®‡•ç‡§¶‡•ç‡§∞ ‡§™‡•ç‡§∞‡§∏‡§æ‡§¶" },
      { "id":3, "question":"‡§§‡§æ‡§ú‡§Æ‡§π‡§≤ ‡§ï‡§π‡§æ‡§Å ‡§∏‡•ç‡§•‡§ø‡§§ ‡§π‡•à?", "options":["‡§¶‡§ø‡§≤‡•ç‡§≤‡•Ä","‡§Ü‡§ó‡§∞‡§æ","‡§ú‡§Ø‡§™‡•Å‡§∞","‡§≠‡•ã‡§™‡§æ‡§≤"], "answer":"‡§Ü‡§ó‡§∞‡§æ" },
      { "id":4, "question":"‡§ï‡§Ç‡§™‡•ç‡§Ø‡•Ç‡§ü‡§∞ ‡§ï‡§æ ‡§¶‡§ø‡§Æ‡§æ‡§ó ‡§ï‡§ø‡§∏‡•á ‡§ï‡§π‡§§‡•á ‡§π‡•à‡§Ç?", "options":["CPU","Mouse","Monitor","Keyboard"], "answer":"CPU" },
      { "id":5, "question":"‡§ö‡§Ç‡§¶‡•ç‡§∞‡§Ø‡§æ‡§®-3 ‡§ï‡§ø‡§∏‡§ï‡•á ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§≤‡•â‡§®‡•ç‡§ö ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ?", "options":["NASA","‡§á‡§∏‡§∞‡•ã","SpaceX","DRDO"], "answer":"‡§á‡§∏‡§∞‡•ã" }
    ];

    let currentQuestion = 0, selectedOption = null, timer, timeLeft = 20, score = 0;

    function startQuiz() {
      document.querySelector(".start-btn").style.display = "none";
      document.getElementById("bgSound").play();  // background music start
      shuffleArray(questions);
      currentQuestion = 0; score = 0;
      loadQuestion();
    }

    function loadQuestion() {
      if (currentQuestion >= questions.length) {
        alert("Quiz ‡§ñ‡§§‡•ç‡§Æ! üéâ ‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§ï‡•ã‡§∞: " + score);
        return;
      }
      document.getElementById("question").innerText = questions[currentQuestion].question;
      let opts = document.getElementById("options");
      opts.innerHTML = "";
      questions[currentQuestion].options.forEach(opt => {
        let div = document.createElement("div");
        div.classList.add("option");
        div.innerText = opt;
        div.onclick = () => selectOption(div, opt);
        opts.appendChild(div);
      });
      resetTimer();
    }

    function selectOption(div, opt) {
      let options = document.querySelectorAll(".option");
      options.forEach(o => o.classList.remove("locked"));
      div.classList.add("locked");
      selectedOption = opt;
    }

    function lockAnswer() {
      if (!selectedOption) return;
      let correct = questions[currentQuestion].answer;
      let options = document.querySelectorAll(".option");
      options.forEach(o => {
        if (o.innerText === correct) o.classList.add("correct");
        else if (o.innerText === selectedOption && selectedOption !== correct) o.classList.add("wrong");
      });
      if (selectedOption === correct) {
        document.getElementById("correctSound").play();
        score++;
      } else {
        document.getElementById("wrongSound").play();
      }
      clearInterval(timer);
      setTimeout(() => {
        currentQuestion++;
        loadQuestion();
      }, 2000);
    }

    function resetTimer() {
      clearInterval(timer);
      timeLeft = 20;
      document.getElementById("timer").innerText = "‚è≥ " + timeLeft;
      timer = setInterval(() => {
        timeLeft--;
        document.getElementById("timer").innerText = "‚è≥ " + timeLeft;
        document.getElementById("timerSound").play(); // beep ‡§π‡§∞ ‡§∏‡•á‡§ï‡§Ç‡§°
        if (timeLeft <= 0) {
          clearInterval(timer);
          lockAnswer();
        }
      }, 1000);
    }

    function use5050() {
      let correct = questions[currentQuestion].answer;
      let opts = Array.from(document.querySelectorAll(".option"));
      let wrongOpts = opts.filter(o => o.innerText !== correct);
      shuffleArray(wrongOpts);
      wrongOpts.slice(0,2).forEach(o => o.style.visibility = "hidden");
    }

    function shuffleArray(arr) {
      for (let i = arr.length - 1; i > 0; i--) {
        let j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
    }

    function shareScore() {
      let text = "üéØ ‡§Æ‡•à‡§Ç‡§®‡•á KBC Quiz ‡§ñ‡•á‡§≤‡§æ ‡§î‡§∞ ‡§Æ‡•á‡§∞‡§æ ‡§∏‡•ç‡§ï‡•ã‡§∞ ‡§π‡•à: " + score + "!\n‡§Ü‡§™ ‡§≠‡•Ä ‡§ñ‡•á‡§≤‡•á‡§Ç üëâ [Your App Link]";
      if (navigator.share) {
        navigator.share({ text: text });
      } else {
        alert("Share this:\n" + text);
      }
    }
  </script>
</body>
</html>
